# ──────────────────────────────────────────────────────────────────────
# NeuroTech NewsHound — Configuration
# ──────────────────────────────────────────────────────────────────────
# Edit this file to customize sources, models, and behavior.
# Changes take effect on the next run (no code edits needed).

# ── Agent identity ───────────────────────────────────────────────────

agent:
  name: "NeuroTech NewsHound"
  tagline: "Agentic research intelligence for the NeuroTech ecosystem"
  domain: "Implantable BCIs, ECoG/sEEG, microstimulation, enabling materials"

# ── Defaults ─────────────────────────────────────────────────────────

defaults:
  model: "gpt-4o-mini"            # LLM for scoring + synthesis
  reviewer_model: ""               # Reviewer LLM (empty = same as model)
  days: 7                          # Lookback window
  max_items_per_source: 40         # Cap per source
  max_sources: 40                  # Source registry cap

# ── Data sources ─────────────────────────────────────────────────────
# Each source needs: id, name, category, type, enabled
# RSS/Atom sources also need: url
# To add a source, copy an existing entry and change the fields.
#
# Categories: database, journal, preprint, press, regulatory, search
# Types: api, rss, tavily

sources:

  # --- Core databases (API-based, custom fetch logic) ---
  - id: pubmed
    name: PubMed
    category: database
    type: api
    enabled: true

  # --- Preprint servers ---
  - id: biorxiv_neuro
    name: bioRxiv (neuroscience)
    category: preprint
    type: rss
    url: "https://connect.biorxiv.org/biorxiv_xml.php?subject=neuroscience"
    enabled: true

  - id: medrxiv
    name: medRxiv
    category: preprint
    type: rss
    url: "https://connect.medrxiv.org/medrxiv_xml.php"
    enabled: true

  - id: arxiv_qbio_nc
    name: arXiv q-bio.NC
    category: preprint
    type: rss
    url: "https://rss.arxiv.org/rss/q-bio.NC"
    enabled: true

  # --- Peer-reviewed journals ---
  - id: nature
    name: Nature
    category: journal
    type: rss
    url: "https://www.nature.com/nature.rss"
    enabled: true

  - id: nature_neuro
    name: Nature Neuroscience
    category: journal
    type: rss
    url: "https://www.nature.com/neuro.rss"
    enabled: true

  - id: nature_bme
    name: Nature Biomedical Engineering
    category: journal
    type: rss
    url: "https://www.nature.com/natbiomedeng.rss"
    enabled: true

  - id: science
    name: Science
    category: journal
    type: rss
    url: "https://www.science.org/action/showFeed?type=etoc&feed=rss&jc=science"
    enabled: true

  - id: sci_transl_med
    name: Science Translational Medicine
    category: journal
    type: rss
    url: "https://www.science.org/action/showFeed?type=etoc&feed=rss&jc=stm"
    enabled: true

  - id: jne
    name: Journal of Neural Engineering
    category: journal
    type: rss
    url: "https://iopscience.iop.org/journal/rss/1741-2552"
    enabled: true

  - id: neuron
    name: Neuron
    category: journal
    type: rss
    url: "https://www.cell.com/neuron/inpress.rss"
    enabled: true

  - id: brain
    name: Brain (Oxford)
    category: journal
    type: rss
    url: "https://academic.oup.com/rss/site_5024/advanceAccess_3161.xml"
    enabled: false   # Oxford Academic has dropped RSS for Brain; re-enable if restored

  - id: lancet_neuro
    name: Lancet Neurology
    category: journal
    type: rss
    url: "http://www.thelancet.com/rssfeed/laneur_current.xml"
    enabled: true

  - id: ieee_tnsre
    name: IEEE Trans Neural Systems & Rehab Engineering
    category: journal
    type: rss
    url: "https://ieeexplore.ieee.org/rss/TOC7333.XML"
    enabled: true

  - id: nejm
    name: New England Journal of Medicine
    category: journal
    type: rss
    url: "https://www.nejm.org/action/showFeed?jc=nejm&type=etoc&feed=rss"
    enabled: true

  - id: sci_robotics
    name: Science Robotics
    category: journal
    type: rss
    url: "https://www.science.org/action/showFeed?type=etoc&feed=rss&jc=scirobotics"
    enabled: true

  # --- Company blogs / Substacks ---
  # NOTE: Additional Substack feeds are auto-added from company_watchlist entries
  # that have a 'substack' field. These are manually curated extras.
  - id: neurotechnology_substack
    name: Neurotechnology (Substack)
    category: press
    type: rss
    url: "https://neurotechnology.substack.com/feed"
    enabled: true

  - id: paradromics_substack
    name: Paradromics (Substack)
    category: press
    type: rss
    url: "https://paradromics.substack.com/feed"
    enabled: true

  # --- Regulatory ---
  - id: fda_medwatch
    name: FDA MedWatch Safety
    category: regulatory
    type: rss
    url: "http://www.fda.gov/AboutFDA/ContactFDA/StayInformed/RSSFeeds/MedWatch/rss.xml"
    enabled: true

  # --- General press (headlines + summaries; body may be paywalled) ---
  - id: nyt_science
    name: NYT Science
    category: press
    type: rss
    url: "https://rss.nytimes.com/services/xml/rss/nyt/Science.xml"
    enabled: true

  - id: nyt_health
    name: NYT Health
    category: press
    type: rss
    url: "https://rss.nytimes.com/services/xml/rss/nyt/Health.xml"
    enabled: true

  - id: ft_tech
    name: FT Technology
    category: press
    type: rss
    url: "https://www.ft.com/technology?format=rss"
    enabled: true

  - id: stat_news
    name: STAT News
    category: press
    type: rss
    url: "https://www.statnews.com/feed/"
    enabled: true

  # --- Tavily wideband search ---
  - id: tavily_wideband
    name: Tavily Wideband Search
    category: search
    type: tavily
    enabled: true

# ── Company Watchlist ────────────────────────────────────────────────
# Tracked companies get automatic Tavily queries and RSS feeds.
# Add new companies manually, or promote them from discoveries.yaml
# (auto-generated after each run from high-scoring Tavily results).
#
# Fields:
#   name       — Display name
#   aliases    — Search aliases (auto-generates Tavily queries)
#   domain     — Primary website domain
#   substack   — Substack RSS feed URL (optional; added to RSS sources)
#   enabled    — Set false to pause tracking without deleting

company_watchlist:
  - name: Paradromics
    aliases: ["paradromics"]
    domain: "paradromics.com"
    substack: "https://paradromics.substack.com/feed"
    enabled: true

  - name: Axoft
    aliases: ["axoft", "fleuron"]
    domain: "axoft.us"
    enabled: true

  - name: Synchron
    aliases: ["synchron", "stentrode"]
    domain: "synchron.com"
    enabled: true

  - name: Precision Neuroscience
    aliases: ["precision neuroscience", "precision neuro", "layer 7"]
    domain: "precisionneuro.io"
    enabled: true

  - name: Blackrock Neurotech
    aliases: ["blackrock neurotech", "blackrock microsystems"]
    domain: "blackrockneurotech.com"
    enabled: true

  - name: Neuralink
    aliases: ["neuralink"]
    domain: "neuralink.com"
    enabled: true

  - name: Cortera Neurotechnologies
    aliases: ["cortera"]
    domain: "cortera.io"
    enabled: true

  - name: Science Corp
    aliases: ["science corp"]
    domain: "science.xyz"
    enabled: true

  - name: Motif Neurotech
    aliases: ["motif neurotech"]
    domain: "motifneuro.com"
    enabled: true

  - name: Encora Therapeutics
    aliases: ["encora"]
    domain: "encoratherapeutics.com"
    enabled: true

  - name: Augmental
    aliases: ["augmental", "mouthpad"]
    domain: "augmental.tech"
    enabled: true

# ── Curated Industry Sources ────────────────────────────────────────
# Websites without RSS feeds — searched via Tavily site: queries.
# Good for newsletters, aggregators, and company pages.

curated_industry_sources:
  - name: Neurofounders
    url: "https://www.neurofounders.co/"
    tavily_query: 'site:neurofounders.co BCI OR "brain-computer interface" OR neurotech OR "neural implant"'
    enabled: true

  - name: IEEE Spectrum Biomedical
    url: "https://spectrum.ieee.org/"
    tavily_query: 'site:spectrum.ieee.org brain-computer interface OR neural implant OR BCI'
    enabled: true

# ── Tavily search queries ────────────────────────────────────────────
# Static queries run in addition to auto-generated watchlist queries.
# Each query costs ~$0.001. Add/remove as needed.
# NOTE: Company-specific queries are auto-generated from the watchlist
# above — you do NOT need to duplicate company names here.

tavily_queries:
  - '"brain-computer interface" OR "neural implant" clinical trial'
  - '"intracranial EEG" OR ECoG OR sEEG neural recording human'
  - 'FDA "neural device" OR "brain implant" approval OR clearance'
  - 'BCI funding OR investment "neural interface"'

# ── Prompts ──────────────────────────────────────────────────────────
# LLM prompts are in prompts.yaml (same directory as this file).
# Edit prompts.yaml to iterate on analysis quality without touching code.
# Each prompt is a Jinja2-style template with {variable} placeholders.

prompts_file: "prompts.yaml"

# ── MLflow ───────────────────────────────────────────────────────────

mlflow:
  enabled: true
  experiment_name: "neurotech-newshound"
